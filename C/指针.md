## 内存相关概念

**外存：**又称拓展存储器，长期存放数据，是可掉电的设备，常见的外存设备有：硬盘、flash、ROM、U 盘、光盘、磁带。

**内存：**暂时存放数据的设备，掉电丢失数据，厂家的内存有：RAM，DDR.

内存分为**物理内存**和虚拟内存。

- 物理内存：实实在在的存储设备；
- 虚拟内存：操作系统虚拟出来的内存。

操作系统会将虚拟内存和物理内存进行映射。

在 32 位操作系统下，每个进程的寻址范围位 `0x00000000~0xffffffff`，即 4G，我们在编程时看到的内存地址都是虚拟地址。

在程序运行时，操作系统会将**虚拟内存**进行分区：

- 堆：在动态申请内存时，会在堆区开辟空间；
- 栈：主要存放局部变量；
- 静态全局区：
  - 位初始化的静态全局区：没有初始化的静态变量（`static` 修饰的变量），或全局变量存放在此区；
  - 初始化了的静态全局区：初始化过的全局变量、静态变量存在此区。
- 代码区：存放代码的区；
- 文字常量区：存放常量的区；

## 指针的相关概念

> 本文均在 32 为平台上进行讨论。

系统给每个存储单元分配了一个编号，从 `0x00000000~0xffffffff`，这个编号就是地址。

> 指针就是地址。

![image](https://github.com/XinranSix/Computer-Graphics/assets/62458905/51a85890-ee89-4e25-9489-6545d4a5f796)

指针变量：一个存放地址编号的变量。

在 32 位平台下，地址总线是 32 位的，所以地址是 32 位编号，占用 4 个字节，所以在 32 位平台下指针变量占用 4 个字节。

> 鱼代表鱼，虾代表虾，乌龟代表是王八。对应指针变量只能存放对应类型变量的地址，例如 `int` 类型的指针只能存放 `int` 类型变量的地址。

`char` 占 1 个字节，它有一个地址编号，这个地址编号就是其地址；`int` 占 4 个字节，它占有 4 个字节的存储单元，有 4 个地址编号。

![image](https://github.com/XinranSix/Computer-Graphics/assets/62458905/67036c70-1ee8-4729-8dbf-3df54f568cd7)

## 指针的定义方法

定义指针的语法：

```c
数据类型 *指针变量名;
int *p;
int *p1, p2;
```

与指针相关的运算符：`&`、`*`.

`&` 是取地址运算符，`*` 是取值运算符。

![image](https://github.com/XinranSix/Computer-Graphics/assets/62458905/1139ce2c-7536-4c61-a440-9ed2d47bd911)

```c
#include <stdio.h>

int main(int argc, char *argv[]) {

    int a = 100;
    int *p;
    p = &a;

    printf("a = %d %d\n", a, *p);
    printf("&a = %p %p\n", &a, p);

    return 0;
}
```

输出结果为：

![image](https://github.com/XinranSix/Computer-Graphics/assets/62458905/921666e3-b0bc-40a4-8b5e-3577d2859315)

指针大小：在 32 位系统下，所有类型的指针都是 4 个字节。

```c
#include <stdio.h>

int main(int argc, char *argv[]) {
    char *a;
    short *b;
    int *c;
    long *d;
    float *e;
    double *f;

    printf("sizeof(a) = %lld\n", sizeof(a));
    printf("sizeof(b) = %lld\n", sizeof(b));
    printf("sizeof(c) = %lld\n", sizeof(c));
    printf("sizeof(d) = %lld\n", sizeof(d));
    printf("sizeof(e) = %lld\n", sizeof(e));
    printf("sizeof(f) = %lld\n", sizeof(f));

    return 0;
}
```

输出结果为：

![image](https://github.com/XinranSix/Computer-Graphics/assets/62458905/4c425eb6-d0c4-418d-be0a-5ac63d3b2ddc)

## 指针的分类

1. `char` 型指针；
2. `short int` 型指针；
3. `int` 指针；
4. `long` 指针；
5. `float` 型指针；
6. `double` 型指针；
7. 函数指针；
8. 结构体指针；
9. 指针的指针；
10. 数组指针。

> 不管是声明指针，在 32 位操作系统上，均占有 4 个字节。

## 指针和变量的关系

## 指针和数组元素之间的关系

## 指针和数组元素之间的关系

## 指针数组

## 指针的指针

## 字符串和指针

## 数组指针

## 指针与函数的关系

## 经常容易混淆的指针

## 特殊指针

## main 函数传参